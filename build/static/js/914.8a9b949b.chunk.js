(self.webpackChunkmallbb_project=self.webpackChunkmallbb_project||[]).push([[914],{914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(9981),s=n(9379),a=n(5043),i=n(5089),l=n(8245),c=n(5822),o=n(579);const u={id:0,title:"",content:"",createDate:"null",delFlag:!1,uploadFileNames:[]},d=e=>{let{id:t}=e;const[n,r]=(0,a.useState)((0,s.A)({},u)),[d,f]=(0,a.useState)(null),{moveToPath:h}=(0,c.A)(),[m,x]=(0,a.useState)(!1),g=(0,a.useRef)();return(0,a.useEffect)(()=>{x(!0),(0,i.HD)(t).then(e=>{r(e),x(!1)})},[t]),(0,o.jsx)(l.CV,{board:n,handleChangeBoard:e=>{const{name:t,value:n}="target"in e?e.target:e;r(e=>(0,s.A)((0,s.A)({},e),{},{[t]:n}))},uploadRef:g,handleClickModify:async()=>{if(!n.title.trim()||!n.content.trim())return void alert("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.");const e=g.current.files,r=new FormData;for(let t=0;t<e.length;t++)r.append("files",e[t]);const s=n.content.replace(/<\/?[^>]+>/g,"").trim();r.append("title",n.title),r.append("content",s);for(let t=0;t<n.uploadFileNames.length;t++)r.append("uploadFileNames",n.uploadFileNames[t]);x(!0),await(0,i.UU)(r,n.id).then(e=>f("\uc218\uc815\uc131\uacf5")),alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),h("../read/".concat(t))},deleteOldImages:e=>{const t=n.uploadFileNames.filter(t=>t!==e);n.uploadFileNames=t,r((0,s.A)({},n))},getFileUrl:i.w8})},f=()=>{const{id:e}=(0,r.g)();return(0,o.jsx)("div",{className:"p-4 w-full bg-white",children:(0,o.jsx)(d,{id:e})})}},5089:(e,t,n)=>{"use strict";n.d(t,{HD:()=>l,TF:()=>o,UU:()=>d,kz:()=>c,vS:()=>i,w8:()=>u});var r=n(7560),s=n(9641);const a="".concat(s.i,"/f"),i=async e=>{const{page:t,size:n}=e;return(await s.C.get("".concat(a,"/l"),{params:{page:t,size:n}})).data},l=async e=>(await s.C.get("".concat(a,"/").concat(e))).data,c=async e=>(await r.A.post("".concat(a,"/"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,o=async e=>(await r.A.delete("".concat(a,"/").concat(e))).data,u=e=>"".concat(a,"/view/").concat(encodeURIComponent(e)),d=async(e,t)=>(await r.A.put("".concat(a,"/").concat(t),e,{headers:{"Content-Type":"multipart/form-data"}})).data},8065:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",s="second",a="minute",i="hour",l="day",c="week",o="month",u="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+p(r,2,"0")+":"+p(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,o),a=n-s<0,i=t.clone().add(r+(a?-1:1),o);return+(-(r+(n-s)/(a?s-i:i-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:d,w:c,d:l,D:f,h:i,m:a,s:s,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var $="$isDayjsObject",w=function(e){return e instanceof M||!(!e||!e[$])},j=function e(t,n,r){var s;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();v[a]&&(s=a),n&&(v[a]=n,s=a);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var l=t.name;v[l]=t,s=l}return!r&&s&&(b=s),s||!r&&b},N=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new M(n)},D=y;D.l=j,D.i=w,D.w=function(e,t){return N(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function g(e){this.$L=j(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var p=g.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var s=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return D},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(e,t){var n=N(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return N(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<N(e)},p.$g=function(e,t,n){return D.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,r=!!D.u(t)||t,u=D.p(e),h=function(e,t){var s=D.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?s:s.endOf(l)},m=function(e,t){return D.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},x=this.$W,g=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case o:return r?h(1,g):h(0,g+1);case c:var b=this.$locale().weekStart||0,v=(x<b?x+7:x)-b;return h(r?p-v:p+(6-v),g);case l:case f:return m(y+"Hours",0);case i:return m(y+"Minutes",1);case a:return m(y+"Seconds",2);case s:return m(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,c=D.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[l]=u+"Date",n[f]=u+"Date",n[o]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[a]=u+"Minutes",n[s]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],m=c===l?this.$D+(t-this.$W):t;if(c===o||c===d){var x=this.clone().set(f,1);x.$d[h](m),x.init(),this.$d=x.set(f,Math.min(this.$D,x.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[D.p(e)]()},p.add=function(r,u){var f,h=this;r=Number(r);var m=D.p(u),x=function(e){var t=N(h);return D.w(t.date(t.date()+Math.round(e*r)),h)};if(m===o)return this.set(o,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===l)return x(1);if(m===c)return x(7);var g=(f={},f[a]=t,f[i]=n,f[s]=e,f)[m]||1,p=this.$d.getTime()+r*g;return D.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=D.z(this),a=this.$H,i=this.$m,l=this.$M,c=n.weekdays,o=n.months,u=n.meridiem,d=function(e,n,s,a){return e&&(e[n]||e(t,r))||s[n].slice(0,a)},f=function(e){return D.s(a%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(x,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return l+1;case"MM":return D.s(l+1,2,"0");case"MMM":return d(n.monthsShort,l,o,3);case"MMMM":return d(o,l);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return D.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(a,i,!0);case"A":return m(a,i,!1);case"m":return String(i);case"mm":return D.s(i,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(r,f,h){var m,x=this,g=D.p(f),p=N(r),y=(p.utcOffset()-this.utcOffset())*t,b=this-p,v=function(){return D.m(x,p)};switch(g){case d:m=v()/12;break;case o:m=v();break;case u:m=v()/3;break;case c:m=(b-y)/6048e5;break;case l:m=(b-y)/864e5;break;case i:m=b/n;break;case a:m=b/t;break;case s:m=b/e;break;default:m=b}return h?m:D.a(m)},p.daysInMonth=function(){return this.endOf(o).$D},p.$locale=function(){return v[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=j(e,t,!0);return r&&(n.$L=r),n},p.clone=function(){return D.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},g}(),S=M.prototype;return N.prototype=S,[["$ms",r],["$s",s],["$m",a],["$H",i],["$W",l],["$M",o],["$y",d],["$D",f]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),N.extend=function(e,t){return e.$i||(e(t,M,N),e.$i=!0),N},N.locale=j,N.isDayjs=w,N.unix=function(e){return N(1e3*e)},N.en=v[b],N.Ls=v,N.p={},N}()},8245:(e,t,n)=>{"use strict";n.d(t,{CV:()=>f,Je:()=>h,qD:()=>d,qM:()=>u});var r=n(8065),s=n.n(r),a=n(1517),i=n(726),l=n.n(i),c=n(7217),o=n(579);function u(e){var t;let{serverData:n,onClickTitle:r,booltype:a}=e;const i=(null===n||void 0===n?void 0:n.totalCount)>0&&(null===n||void 0===n||null===(t=n.dtoList)||void 0===t?void 0:t.length)>0,l="basis-20 shrink-0 text-center",c="basis-30 shrink-0 text-center",u="basis-40 shrink-0 text-center";return i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("li",{className:"flex border-b-2 border-gray-300 bg-gray-100 px-2 py-3 font-semibold",children:[(0,o.jsx)("span",{className:l,children:"\ubc88\ud638"}),(0,o.jsx)("span",{className:"flex-1",children:"\uc81c\ubaa9"}),(0,o.jsx)("span",{className:c,children:"\uc791\uc131\uc790"}),(0,o.jsx)("span",{className:u,children:"\ub0a0\uc9dc"})]}),n.dtoList.map(e=>(0,o.jsxs)("li",{className:"flex cursor-pointer border-b border-gray-200 px-2 py-2 hover:bg-gray-50",onClick:()=>r(e.id),children:[(0,o.jsx)("span",{className:"".concat(l," text-gray-600"),children:e.id}),(0,o.jsx)("span",{className:"flex-1 text-black",children:e.title}),(0,o.jsx)("span",{className:"".concat(c," text-gray-600"),children:a?"\uc6b4\uc601\uc790":e.writer}),(0,o.jsx)("span",{className:"".concat(u," text-gray-600"),children:s()(e.createDate).format("YYYY-MM-DD")})]},e.id))]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("li",{className:"flex border-b-2 border-gray-300 bg-gray-100 px-2 py-3 font-semibold",children:[(0,o.jsx)("span",{className:l,children:"\ubc88\ud638"}),(0,o.jsx)("span",{className:"flex-1",children:"\uc81c\ubaa9"}),(0,o.jsx)("span",{className:c,children:"\uc791\uc131\uc790"}),(0,o.jsx)("span",{className:u,children:"\ub0a0\uc9dc"})]}),(0,o.jsx)("li",{className:"p-6 text-center text-gray-500",children:"\ub4f1\ub85d\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})}function d(e){let{board:t,handleChangeBoard:n,uploadRef:r,handleClickAdd:s}=e;return(0,o.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,o.jsx)("h1",{className:"mb-6 text-2xl font-semibold",children:"\uae00 \ub4f1\ub85d"}),(0,o.jsxs)("div",{className:"space-y-5 rounded-2xl bg-white p-6 shadow",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{id:"title",type:"text",name:"title",placeholder:"\uc81c\ubaa9",value:t.title,onChange:n,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2 outline-none transition\r focus:border-indigo-400 focus:bg-white focus:ring-2 focus:ring-indigo-200"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"content",className:"text-sm font-medium text-gray-700",children:"\ub0b4\uc6a9"}),(0,o.jsx)(a.aF,{editor:l(),style:{minHeight:"200px"},placeholder:"\ub0b4\uc6a9",rows:8,data:t.content,onChange:(e,t)=>{n({target:{name:"content",value:t.getData()}})}})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"files",className:"text-sm font-medium text-gray-700",children:"\ud30c\uc77c \ucca8\ubd80"}),(0,o.jsx)("input",{id:"files",type:"file",multiple:!0,ref:r,className:"block w-full text-sm text-gray-700\r file:mr-4 file:rounded-xl file:border-0 file:bg-indigo-50 file:px-4 file:py-2 file:text-indigo-700\r hover:file:bg-indigo-100"})]}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"button",onClick:s,className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uae00 \ub4f1\ub85d"})})]})]})}function f(e){let{board:t,handleChangeBoard:n,uploadRef:r,handleClickModify:s,deleteOldImages:i,getFileUrl:c}=e;return(0,o.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,o.jsx)("h1",{className:"mb-6 text-2xl font-semibold",children:"\uae00 \uc218\uc815"}),(0,o.jsxs)("div",{className:"space-y-5 rounded-2xl bg-white p-6 shadow",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{id:"title",type:"text",name:"title",placeholder:"\uc81c\ubaa9",value:t.title,onChange:n,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2 outline-none transition\r focus:border-indigo-400 focus:bg-white focus:ring-2 focus:ring-indigo-200"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"content",className:"text-sm font-medium text-gray-700",children:"\ub0b4\uc6a9"}),(0,o.jsx)(a.aF,{editor:l(),style:{minHeight:"200px"},placeholder:"\ub0b4\uc6a9",rows:8,data:t.content,onChange:(e,t)=>{n({target:{name:"content",value:t.getData()}})}})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"files",className:"text-sm font-medium text-gray-700",children:"\ud30c\uc77c \ucca8\ubd80"}),(0,o.jsx)("input",{id:"files",type:"file",multiple:!0,ref:r,className:"block w-full text-sm text-gray-700\r file:mr-4 file:rounded-xl file:border-0 file:bg-indigo-50 file:px-4 file:py-2 file:text-indigo-700\r hover:file:bg-indigo-100"})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"IMAGE"}),(0,o.jsx)("div",{className:"w-4/5 justify-center flex flex-wrap items-start",children:t.uploadFileNames.map((e,t)=>(0,o.jsxs)("div",{className:"flex justify-center flex-col w-1/3",children:[(0,o.jsx)("button",{className:"bg-red-500 text-3xl text-white",onClick:()=>i(e),children:"DELETE"}),(0,o.jsx)("img",{alt:"img",src:c(e)})]},t))})]})}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"button",onClick:s,className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uc218\uc815 \uc644\ub8cc"})})]})]})}function h(e){let{type:t}=e;const{ensureLogin:n}=(0,c.A)();return(0,o.jsx)("button",{onClick:()=>{n()&&window.location.replace("/".concat(t,"/add"))},className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uae00 \ub4f1\ub85d"})}}}]);
//# sourceMappingURL=914.8a9b949b.chunk.js.map