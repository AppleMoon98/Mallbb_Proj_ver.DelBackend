(self.webpackChunkmallbb_project=self.webpackChunkmallbb_project||[]).push([[306],{2306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(9379),s=n(5043),i=n(5089),a=n(5822),c=n(8245),l=n(579);const o={title:"",content:""};function u(){const[e,t]=(0,s.useState)(o),n=(0,s.useRef)(null),{moveToPath:u}=(0,a.A)();return(0,l.jsx)(c.qD,{board:e,handleChangeBoard:e=>{const{name:n,value:s}=e.target;t(e=>(0,r.A)((0,r.A)({},e),{},{[n]:s}))},uploadRef:n,handleClickAdd:async()=>{var r;if(!e.title.trim()||!e.content.trim())return void alert("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.");const s=e.content.replace(/<\/?[^>]+>/g,"").trim(),a=new FormData;a.append("title",e.title),a.append("content",s);const c=null===(r=n.current)||void 0===r?void 0:r.files;if(c&&c.length>0)for(let e=0;e<c.length;e++)a.append("files",c[e]);try{const e=await(0,i.kz)(a);console.log("\ub4f1\ub85d \uc131\uacf5:",e),alert("\ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t(o),n.current&&(n.current.value=""),u("/free",!0)}catch(l){console.error("\ub4f1\ub85d \uc2e4\ud328:",l),alert("\ub4f1\ub85d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}})}const d=()=>(0,l.jsx)("div",{className:"bg-[#F4C455]",children:(0,l.jsx)(u,{})})},5089:(e,t,n)=>{"use strict";n.d(t,{HD:()=>c,TF:()=>o,UU:()=>d,kz:()=>l,vS:()=>a,w8:()=>u});var r=n(7560),s=n(9641);const i="".concat(s.i,"/f"),a=async e=>{const{page:t,size:n}=e;return(await s.C.get("".concat(i,"/l"),{params:{page:t,size:n}})).data},c=async e=>(await s.C.get("".concat(i,"/").concat(e))).data,l=async e=>(await r.A.post("".concat(i,"/"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,o=async e=>(await r.A.delete("".concat(i,"/").concat(e))).data,u=e=>"".concat(i,"/view/").concat(encodeURIComponent(e)),d=async(e,t)=>(await r.A.put("".concat(i,"/").concat(t),e,{headers:{"Content-Type":"multipart/form-data"}})).data},8065:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",s="second",i="minute",a="hour",c="day",l="week",o="month",u="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+p(r,2,"0")+":"+p(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,o),i=n-s<0,a=t.clone().add(r+(i?-1:1),o);return+(-(r+(n-s)/(i?s-a:a-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:d,w:l,d:c,D:f,h:a,m:i,s:s,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var $="$isDayjsObject",j=function(e){return e instanceof M||!(!e||!e[$])},w=function e(t,n,r){var s;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();v[i]&&(s=i),n&&(v[i]=n,s=i);var a=t.split("-");if(!s&&a.length>1)return e(a[0])}else{var c=t.name;v[c]=t,s=c}return!r&&s&&(b=s),s||!r&&b},N=function(e,t){if(j(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new M(n)},D=y;D.l=w,D.i=j,D.w=function(e,t){return N(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function g(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var p=g.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return D},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(e,t){var n=N(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return N(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<N(e)},p.$g=function(e,t,n){return D.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,r=!!D.u(t)||t,u=D.p(e),h=function(e,t){var s=D.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?s:s.endOf(c)},m=function(e,t){return D.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},x=this.$W,g=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case o:return r?h(1,g):h(0,g+1);case l:var b=this.$locale().weekStart||0,v=(x<b?x+7:x)-b;return h(r?p-v:p+(6-v),g);case c:case f:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case i:return m(y+"Seconds",2);case s:return m(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,l=D.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[c]=u+"Date",n[f]=u+"Date",n[o]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[s]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],m=l===c?this.$D+(t-this.$W):t;if(l===o||l===d){var x=this.clone().set(f,1);x.$d[h](m),x.init(),this.$d=x.set(f,Math.min(this.$D,x.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[D.p(e)]()},p.add=function(r,u){var f,h=this;r=Number(r);var m=D.p(u),x=function(e){var t=N(h);return D.w(t.date(t.date()+Math.round(e*r)),h)};if(m===o)return this.set(o,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===c)return x(1);if(m===l)return x(7);var g=(f={},f[i]=t,f[a]=n,f[s]=e,f)[m]||1,p=this.$d.getTime()+r*g;return D.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=D.z(this),i=this.$H,a=this.$m,c=this.$M,l=n.weekdays,o=n.months,u=n.meridiem,d=function(e,n,s,i){return e&&(e[n]||e(t,r))||s[n].slice(0,i)},f=function(e){return D.s(i%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(x,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return c+1;case"MM":return D.s(c+1,2,"0");case"MMM":return d(n.monthsShort,c,o,3);case"MMMM":return d(o,c);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return D.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(i,a,!0);case"A":return m(i,a,!1);case"m":return String(a);case"mm":return D.s(a,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(r,f,h){var m,x=this,g=D.p(f),p=N(r),y=(p.utcOffset()-this.utcOffset())*t,b=this-p,v=function(){return D.m(x,p)};switch(g){case d:m=v()/12;break;case o:m=v();break;case u:m=v()/3;break;case l:m=(b-y)/6048e5;break;case c:m=(b-y)/864e5;break;case a:m=b/n;break;case i:m=b/t;break;case s:m=b/e;break;default:m=b}return h?m:D.a(m)},p.daysInMonth=function(){return this.endOf(o).$D},p.$locale=function(){return v[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},p.clone=function(){return D.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},g}(),k=M.prototype;return N.prototype=k,[["$ms",r],["$s",s],["$m",i],["$H",a],["$W",c],["$M",o],["$y",d],["$D",f]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),N.extend=function(e,t){return e.$i||(e(t,M,N),e.$i=!0),N},N.locale=w,N.isDayjs=j,N.unix=function(e){return N(1e3*e)},N.en=v[b],N.Ls=v,N.p={},N}()},8245:(e,t,n)=>{"use strict";n.d(t,{CV:()=>f,Je:()=>h,qD:()=>d,qM:()=>u});var r=n(8065),s=n.n(r),i=n(1517),a=n(726),c=n.n(a),l=n(7217),o=n(579);function u(e){var t;let{serverData:n,onClickTitle:r,booltype:i}=e;const a=(null===n||void 0===n?void 0:n.totalCount)>0&&(null===n||void 0===n||null===(t=n.dtoList)||void 0===t?void 0:t.length)>0,c="basis-20 shrink-0 text-center",l="basis-30 shrink-0 text-center",u="basis-40 shrink-0 text-center";return a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("li",{className:"flex border-b-2 border-gray-300 bg-gray-100 px-2 py-3 font-semibold",children:[(0,o.jsx)("span",{className:c,children:"\ubc88\ud638"}),(0,o.jsx)("span",{className:"flex-1",children:"\uc81c\ubaa9"}),(0,o.jsx)("span",{className:l,children:"\uc791\uc131\uc790"}),(0,o.jsx)("span",{className:u,children:"\ub0a0\uc9dc"})]}),n.dtoList.map(e=>(0,o.jsxs)("li",{className:"flex cursor-pointer border-b border-gray-200 px-2 py-2 hover:bg-gray-50",onClick:()=>r(e.id),children:[(0,o.jsx)("span",{className:"".concat(c," text-gray-600"),children:e.id}),(0,o.jsx)("span",{className:"flex-1 text-black",children:e.title}),(0,o.jsx)("span",{className:"".concat(l," text-gray-600"),children:i?"\uc6b4\uc601\uc790":e.writer}),(0,o.jsx)("span",{className:"".concat(u," text-gray-600"),children:s()(e.createDate).format("YYYY-MM-DD")})]},e.id))]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("li",{className:"flex border-b-2 border-gray-300 bg-gray-100 px-2 py-3 font-semibold",children:[(0,o.jsx)("span",{className:c,children:"\ubc88\ud638"}),(0,o.jsx)("span",{className:"flex-1",children:"\uc81c\ubaa9"}),(0,o.jsx)("span",{className:l,children:"\uc791\uc131\uc790"}),(0,o.jsx)("span",{className:u,children:"\ub0a0\uc9dc"})]}),(0,o.jsx)("li",{className:"p-6 text-center text-gray-500",children:"\ub4f1\ub85d\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})}function d(e){let{board:t,handleChangeBoard:n,uploadRef:r,handleClickAdd:s}=e;return(0,o.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,o.jsx)("h1",{className:"mb-6 text-2xl font-semibold",children:"\uae00 \ub4f1\ub85d"}),(0,o.jsxs)("div",{className:"space-y-5 rounded-2xl bg-white p-6 shadow",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{id:"title",type:"text",name:"title",placeholder:"\uc81c\ubaa9",value:t.title,onChange:n,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2 outline-none transition\r focus:border-indigo-400 focus:bg-white focus:ring-2 focus:ring-indigo-200"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"content",className:"text-sm font-medium text-gray-700",children:"\ub0b4\uc6a9"}),(0,o.jsx)(i.aF,{editor:c(),style:{minHeight:"200px"},placeholder:"\ub0b4\uc6a9",rows:8,data:t.content,onChange:(e,t)=>{n({target:{name:"content",value:t.getData()}})}})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"files",className:"text-sm font-medium text-gray-700",children:"\ud30c\uc77c \ucca8\ubd80"}),(0,o.jsx)("input",{id:"files",type:"file",multiple:!0,ref:r,className:"block w-full text-sm text-gray-700\r file:mr-4 file:rounded-xl file:border-0 file:bg-indigo-50 file:px-4 file:py-2 file:text-indigo-700\r hover:file:bg-indigo-100"})]}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"button",onClick:s,className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uae00 \ub4f1\ub85d"})})]})]})}function f(e){let{board:t,handleChangeBoard:n,uploadRef:r,handleClickModify:s,deleteOldImages:a,getFileUrl:l}=e;return(0,o.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,o.jsx)("h1",{className:"mb-6 text-2xl font-semibold",children:"\uae00 \uc218\uc815"}),(0,o.jsxs)("div",{className:"space-y-5 rounded-2xl bg-white p-6 shadow",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{id:"title",type:"text",name:"title",placeholder:"\uc81c\ubaa9",value:t.title,onChange:n,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2 outline-none transition\r focus:border-indigo-400 focus:bg-white focus:ring-2 focus:ring-indigo-200"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"content",className:"text-sm font-medium text-gray-700",children:"\ub0b4\uc6a9"}),(0,o.jsx)(i.aF,{editor:c(),style:{minHeight:"200px"},placeholder:"\ub0b4\uc6a9",rows:8,data:t.content,onChange:(e,t)=>{n({target:{name:"content",value:t.getData()}})}})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"files",className:"text-sm font-medium text-gray-700",children:"\ud30c\uc77c \ucca8\ubd80"}),(0,o.jsx)("input",{id:"files",type:"file",multiple:!0,ref:r,className:"block w-full text-sm text-gray-700\r file:mr-4 file:rounded-xl file:border-0 file:bg-indigo-50 file:px-4 file:py-2 file:text-indigo-700\r hover:file:bg-indigo-100"})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"IMAGE"}),(0,o.jsx)("div",{className:"w-4/5 justify-center flex flex-wrap items-start",children:t.uploadFileNames.map((e,t)=>(0,o.jsxs)("div",{className:"flex justify-center flex-col w-1/3",children:[(0,o.jsx)("button",{className:"bg-red-500 text-3xl text-white",onClick:()=>a(e),children:"DELETE"}),(0,o.jsx)("img",{alt:"img",src:l(e)})]},t))})]})}),(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("button",{type:"button",onClick:s,className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uc218\uc815 \uc644\ub8cc"})})]})]})}function h(e){let{type:t}=e;const{ensureLogin:n}=(0,l.A)();return(0,o.jsx)("button",{onClick:()=>{n()&&window.location.replace("/".concat(t,"/add"))},className:"inline-flex items-center rounded-xl bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow\r hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 active:translate-y-px",children:"\uae00 \ub4f1\ub85d"})}}}]);
//# sourceMappingURL=306.78297e7b.chunk.js.map